{% extends "layouts/app.html" %}

{% block title %}{{ user.username }}{% endblock %}


{% block main %}
<div class="container">
  <div class="jumbotron">
    <div align='center'>
      <h4>{{ user.username.upper() }}</h4>
    </div>
  </div>
</div>

{% if blog_units.items < 1 %}
    <div class="aligner">
      <p class="text-muted noselect">This user does not have anything published yet.</p>
    </div>
{% endif %}

{% for unit in blog_units.items %}

  <div class="card" >
    <div class="card-body">
      <h5><a class="card-title links-text" href="{{ url_for('units.blog_unit', blog_unit_id=unit.id) }}">{{ unit.title }}</a></h5>
      <p class="text-muted">Published on: {{ unit.date.strftime('%Y-%m-%d %H:%M') }}</p>
      <p class="card-text">{{ unit.text[:100] }}</p>
      <a href="{{ url_for('units.blog_unit', blog_unit_id=unit.id) }}" class="btn-sm btn-primary">Read Unit</a>
    </div>
  </div>

{% endfor %}

<nav class="sm-margin-top" aria-label="Page navigation">
  <ul class="pagination aligner">
  {% for page_num in blog_units.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
      {% if blog_units.page == page_num %}
          <li class="page-item disabled">
          <a class="page-link" href="{{ url_for('core.home', page=page_num) }}">{{ page_num }}</a></li>
      {% endif %}
      {% if blog_units.page != page_num %}
          <li class="page-item"><a class="page-link" href="{{ url_for('core.home', page=page_num) }}">{{ page_num }}</a></li>
      {% endif %}
  {% endfor %}
  </ul>
</nav>

{% endblock %}
